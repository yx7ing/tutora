<div class="lecturer-course">
    <div class="container">
        <div class="header">
            {{course.course}} - {{course.courseName}}
        </div>
        <mat-tab-group mat-align-tabs="center" mat-stretch-tabs>
            <mat-tab label="Applications">
                <div *ngIf="!vacancy">
                    Searching database
                </div>
                <div [hidden]="!vacancy">
                    <div *ngIf="vacancy.lecturerEmail==''" class="open-vacancy">
                        You have not opened vacancies for this course yet.<br><br>
                        Please enter the number of tutor vacancies you would like to open for this course:<br><br>
                        <input type="number" value=1 min=1 #numVacancies class="vacancy-input">
                        <button (click)="createVacancy(numVacancies.value)" class="btn-openvac">OPEN VACANCIES</button>
                    </div>
                    <div [hidden]="!vacancy.lecturerEmail">
                        <!-- <br> <table> <tr>
                            <td class="tip-cell"> Click an application to view more details. </td>
                            <td> <button class="btn-save-disabled">SAVE CHANGES</button> </td>
                        </tr> </table> <br> -->
                        <div class="tip"> Click an application to view more details.</div>
                        <div class="subheading">Pending</div>
                        <table mat-table [dataSource]="dataSourcePending" class="table-actual" #sortPending="matSort" matSort>
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef class="big-cell" mat-sort-header> Name </th>
                                <td mat-cell *matCellDef="let application" class="big-cell"> {{application.name}} </td>
                            </ng-container>
                            <ng-container matColumnDef="email">
                                <th mat-header-cell *matHeaderCellDef class="big-cell" mat-sort-header> Email </th>
                                <td mat-cell *matCellDef="let application" class="big-cell"> {{application.email}} </td>
                            </ng-container>
                            <ng-container matColumnDef="mark">
                                <th mat-header-cell *matHeaderCellDef class="small-cell" mat-sort-header> Mark </th>
                                <td mat-cell *matCellDef="let application" class="small-cell"> {{application.mark}} </td>
                            </ng-container>
                            <ng-container matColumnDef="tutExp">
                                <th mat-header-cell *matHeaderCellDef class="small-cell" mat-sort-header> Tutored<br>before </th>
                                <td mat-cell *matCellDef="let application" class="small-cell"> {{application.tutExp}} </td>
                            </ng-container>
                            <ng-container matColumnDef="courseExp">
                                <th mat-header-cell *matHeaderCellDef class="small-cell" mat-sort-header> Tutored this<br>course before </th>
                                <td mat-cell *matCellDef="let application" class="small-cell"> {{application.courseExp}} </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns;"
                                [ngClass]="{'highlight': selectedRowIndex == i}" (click)="selectCourse(row)"></tr>
                        </table>
                        <div class="subheading">Accepted</div>
                        <div *ngFor="let application of applicationsAccepted">
                            {{application | json}}
                        </div>
                        <div class="subheading">Shortlisted</div>
                        <div *ngFor="let application of applicationsShortlisted">
                            {{application | json}}
                        </div>
                        <div class="subheading">Rejected</div>
                        <div *ngFor="let application of applicationsRejected">
                            {{application | json}}
                        </div>
                    </div>
                </div>
            </mat-tab>
            <mat-tab label="Classes">
                <div *ngFor="let class of classes">
                    Type: {{class.type}}<br>
                    Session: {{class.session}}<br>
                    ID: {{class.id}}<br>
                    Status: {{class.status}}<br>
                    Enrolments: {{class.enrolments}}<br>
                    Details: {{class.details}}<br><br>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>